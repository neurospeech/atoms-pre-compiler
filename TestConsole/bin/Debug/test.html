<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title></title>
<script type="text/javascript">
(function(window,WebAtoms){ 
 WebAtoms.PageSetup = WebAtoms.PageSetup || {};
(function (window,WebAtoms,Atom,AtomPromise){
 
this.a1= function (e){
// Line 10
	this.initScope(({
                start: 0,
                size:100,
                talentID:0
            }));
}

this.a2= function (e){
/* Line 22, atom-value="$[appScope.talentID]" */
	this.bind(e,'value',['appScope', 'talentID'],true)
}

this.a3= function (e){
/* Line 27, atom-name="emailList" */
	this.setLocalValue('name', 'emailList', e);
/* Line 29, atom-value-path="EmailID" */
	this.setLocalValue('valuePath', 'EmailID', e);
/* Line 30, atom-items="[AtomPromise.json('/admin/entity/email/query',{ query: ($appScope.talentID ? { TalentID: $appScope.talentID } : {  }), 
             orderBy:'EmailID desc', start:$appScope.start*$appScope.size, size:$appScope.size })]" */
	this.bind(e,'items',[
	['appScope', 'talentID'],
	['appScope', 'start'],
	['appScope', 'size']],
			false, function(v1,v2,v3){
				 return AtomPromise.json('/admin/entity/email/query',{ query: (v1 ? { TalentID: v1 } : {  }), 
             orderBy:'EmailID desc', start:v2*v3, size:v3 }); 
			});
}

this.a4= function (e){
/* Line 48, atom-href="{'/admin/EmailQueue/preview/' + $data.EmailID}" */
	this.setLocalValue('href', '/admin/EmailQueue/preview/' + Atom.get(this,'data.EmailID'), e);
/* Line 49, atom-text="{$data.EmailID}" */
	this.setLocalValue('text', Atom.get(this,'data.EmailID'), e);
}

this.a5= function (e){
/* Line 52, atom-text="{$data.ErrorDetails ? 'Yes' : 'No'}" */
	this.setLocalValue('text', Atom.get(this,'data.ErrorDetails') ? 'Yes' : 'No', e);
}

this.a6= function (e){
/* Line 53, atom-text="{$data.Subject}" */
	this.setLocalValue('text', Atom.get(this,'data.Subject'), e);
}

this.a7= function (e){
/* Line 54, atom-text="{$data.FromName}" */
	this.setLocalValue('text', Atom.get(this,'data.FromName'), e);
}

this.a8= function (e){
/* Line 55, atom-text="{$data.EmailType}" */
	this.setLocalValue('text', Atom.get(this,'data.EmailType'), e);
}

this.a9= function (e){
/* Line 56, atom-text="{$data.MailPath}" */
	this.setLocalValue('text', Atom.get(this,'data.MailPath'), e);
}

this.a10= function (e){
/* Line 57, atom-text="{($data.DateSent || '').toLocaleString()}" */
	this.setLocalValue('text', (Atom.get(this,'data.DateSent') || '').toLocaleString(), e);
}

this.a11= function (e){
/* Line 67, atom-items="[!$scope.emailList.selectedItem || AtomPromise.json('/admin/entity/emailrecipient/query', { orderBy:'EmailRecipientID desc', query: { EmailID: $appScope.emailList.value } })]" */
	this.bind(e,'items',[
	['scope', 'emailList', 'selectedItem'],
	['appScope', 'emailList', 'value']],
			false, function(v1,v2){
				 return !v1 || AtomPromise.json('/admin/entity/emailrecipient/query', { orderBy:'EmailRecipientID desc', query: { EmailID: v2 } }); 
			});
}

this.a12= function (e){
/* Line 78, atom-text="{$data.EmailAddress}" */
	this.setLocalValue('text', Atom.get(this,'data.EmailAddress'), e);
}

this.a13= function (e){
/* Line 79, atom-text="{($data.DateSent || '').toLocaleString()}" */
	this.setLocalValue('text', (Atom.get(this,'data.DateSent') || '').toLocaleString(), e);
}

this.a14= function (e){
/* Line 81, atom-event-click="{ {alert: $data.EmailError} }" */
	this.setLocalValue('eventClick',  {alert: Atom.get(this,'data.EmailError')} , e);
/* Line 83, style-display="{$data.EmailError ? '' : 'none'}" */
	e.style['Display'] = Atom.get(this,'data.EmailError') ? '' : 'none';
}

this.a15= function (e){
/* Line 94, style-display="[$appScope.start ? '' : 'none']" */
	this.bind(e,'styleDisplay',[
	['appScope', 'start']],
			false, function(v1){
				 return v1 ? '' : 'none'; 
			});
/* Line 95, atom-event-click="[ { appScope: { start: $appScope.start-1 } } ]" */
	this.bind(e,'eventClick',[
	['appScope', 'start']],
			false, function(v1){
				 return  { appScope: { start: v1-1 } } ; 
			});
}

this.a16= function (e){
/* Line 98, style-position="absolute" */
	e.style['Position'] = 'absolute';
/* Line 99, style-top="5px" */
	e.style['Top'] = '5px';
/* Line 100, style-right="5px" */
	e.style['Right'] = '5px';
/* Line 101, atom-event-click="[ { appScope: { start: $appScope.start+1 } } ]" */
	this.bind(e,'eventClick',[
	['appScope', 'start']],
			false, function(v1){
				 return  { appScope: { start: v1+1 } } ; 
			});
}
}).call(window.WebAtoms.PageSetup,window,window.WebAtoms,window.Atom,window.AtomPromise); 
})(window,window.WebAtoms);</script></head>
<body>
    <div atom-type="AtomApplication">
        

        <div atom-dock="Top" style="height:30px">

            <span>Talent ID:</span>
            <input type="search" data-atom-init="a2">
            <button>Search</button>
        </div>

        <div atom-dock="Fill" atom-type="AtomListBox" style="overflow:auto" data-atom-init="a3">
            <table>
                <thead>
                    <tr>
                        <th>Email ID</th>
                        <th>Has Error</th>
                        <th>Subject</th>
                        <th>Email From</th>
                        <th>Email Type</th>
                        <th>MailPath</th>
                        <th>EmailSent</th>
                    </tr>
                </thead>
                <tbody atom-presenter="itemsPresenter">
                    <tr atom-template="itemTemplate">
                        <td>
                            <a target="_blank" data-atom-init="a4"></a>
                        </td>
                        <td data-atom-init="a5"></td>
                        <td data-atom-init="a6"></td>
                        <td data-atom-init="a7"></td>
                        <td data-atom-init="a8"></td>
                        <td data-atom-init="a9"></td>
                        <td data-atom-init="a10"></td>

                    </tr>
                </tbody>
            </table>
        </div>

        <div atom-dock="Right" style="width:300px;" atom-type="AtomItemsControl" data-atom-init="a11">
            <table>
                <thead>
                    <tr>
                        <th>To</th>
                        <th>Sent Date</th>
                        <th>Error</th>
                    </tr>
                </thead>
                <tbody atom-presenter="itemsPresenter">
                    <tr atom-template="itemTemplate">
                        <td data-atom-init="a12"></td>
                        <td data-atom-init="a13"></td>
                        <td>
                            <button style="display:none" data-atom-init="a14">
                                Error
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div style="height:30px;" atom-dock="Bottom">
            <button data-atom-init="a15">
                Prev
            </button>
            <button data-atom-init="a16">
                Next
            </button>
        </div>
        </div>
</body>
</html>